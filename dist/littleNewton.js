for(var d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[e]=c.value)},h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,k=["Math","sign"],m=0;m<k.length-1;m++){var n=k[m];n in h||(h[n]={});h=h[n]}var p=k[k.length-1],q=h[p],r=q?q:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1};
r!=q&&null!=r&&d(h,p,{configurable:!0,writable:!0,value:r});var t={I:"1",B:0};t.prototype={constructor:t};t.f=function(b){return!isNaN(b-0)&&null!=b};t.h=function(b){return void 0!==b};t.a=function(b,e,c){this.type="v3d";this.x=t.f(b)?b:0;this.y=t.f(e)?e:0;this.z=t.f(c)?c:0};t.a.prototype={constructor:t.a};t.a.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};function u(b){return b.x*b.x+b.y*b.y+b.z*b.z}t.a.prototype.set=function(b,e,c){this.x=t.f(a)?b:this.x;this.y=t.f(a)?e:this.y;this.z=t.f(a)?c:this.z;return this};function v(b,e){t.h(e)&&(b.x=e.x,b.y=e.y,b.z=e.z);return b}
t.a.prototype.multiply=function(b){t.f(b)&&(this.x*=b,this.y*=b,this.z*=b);return this};t.a.prototype.add=function(b,e){t.h(b)&&(t.h(e)?w(this,b,e):w(this,this,b));return this};function w(b,e,c){b.x=e.x+c.x;b.y=e.y+c.y;b.z=e.z+c.z}function x(b,e,c){t.h(e)&&(t.h(c)?y(b,e,c):y(b,b,e))}function y(b,e,c){b.x=e.x-c.x;b.y=e.y-c.y;b.z=e.z-c.z};t.j=function(){this.b=[];this.s=[]};t.j.prototype={constructor:t.j};t.j.prototype.add=function(b){if(void 0===b.type)return b;if("Body"==b.type)return this.b.push(b),b;"Rubberband"!=b.type&&"Repellant"!=b.type&&"Gravity"!=b.type||this.s.push(b);return b};
t.j.prototype.step=function(b){for(var e=0;e<this.b.length;e++){var c=this.b[e],f=b,g=new t.a;v(g,c.c);g.multiply(f);var l=new t.a;v(l,c.acceleration);l.multiply(f);l=z(l);l.multiply(.5*f);c.position.add(g);c.position.add(l);c=this.b[e];c.force.x=0;c.force.y=0;c.force.z=0;c=this.b[e];f=c.c.length();g=new t.a;v(g,c.c).multiply(f).multiply(c.D).multiply(-1);A(c,g)}for(e=0;e<this.s.length;e++)this.s[e].o(this);for(e=0;e<this.b.length;e++)c=this.b[e],v(c.A,c.acceleration),v(c.acceleration,c.force),c.acceleration.multiply(c.C),
30<c.acceleration.x&&console.log("accel: "+c.acceleration.x+" "+c.acceleration.x+" "+c.acceleration.x+" "),c=this.b[e],f=b,g=new t.a,v(g,c.acceleration),g.add(c.A),g.multiply(.5*f),c.c.add(g),50>Math.abs(c.c.x)+Math.abs(c.c.y)+Math.abs(c.c.z)||console.log(c.id,c.c),c.c=z(c.c)};t.i=function(){Object.defineProperty(this,"id",{value:t.B++});this.type="Object3D";this.position=new t.a};t.i.prototype={constructor:t.i};t.Body=function(){t.i.call(this);this.type="Body";this.F=1;this.D=.5;this.C=1/this.F;this.c=new t.a;this.acceleration=new t.a;this.A=new t.a;this.force=new t.a};t.Body.prototype=Object.create(t.i.prototype);t.Body.prototype.constructor=t.Body;function A(b,e){t.h(e)&&b.force.add(e)}function z(b){b.x=isNaN(b.x)?10:b.x;b.x=isNaN(b.x)?10:b.x;b.x=isNaN(b.x)?10:b.x;b.x=10>Math.abs(b.x)?b.x:10*Math.sign(b.x);b.y=10>Math.abs(b.y)?b.y:10*Math.sign(b.y);b.z=10>Math.abs(b.z)?b.z:10*Math.sign(b.z);return b};t.g=function(b,e){this.type="Rubberband";this.u=b;this.v=e};t.g.prototype={constructor:t.g};t.g.prototype.o=function(){var b=new t.a;x(b,this.v.position,this.u.position);b.multiply(this.force(b.length())/u(b));A(this.u,b);A(this.v,b.multiply(-1))};t.g.prototype.force=function(b){return 2*b};t.m=function(b){this.type="Repellant";this.body=b;this.w=[this.body]};t.m.prototype={constructor:t.g};t.m.prototype.o=function(b){for(var e=0;e<b.b.length;e++){var c=b.b[e];if(0>this.w.indexOf(c)){var f=new t.a;x(f,c.position,this.body.position);f.multiply(slidervars.G*slidervars.G*this.body.H*c.H*this.force(f.length())/f.length());A(c,f);A(this.body,f.multiply(-1))}}};t.m.prototype.force=function(b){return 1/b/b};t.l=function(b){this.type="Gravity";this.body=b;this.w=[this.body]};t.l.prototype={constructor:t.g};t.l.prototype.o=function(b){for(var e=0;e<b.b.length;e++){var c=new t.a;v(c,this.body.position);c.multiply(this.force(u(c))/u(c));A(this.body,c.multiply(-1))}};t.l.prototype.force=function(){return.01};
